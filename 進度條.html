<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/css/bootstrap.min.css" rel="stylesheet"></script>
        <script src="/js/bootstrap.bundle.min.js"></script>
        <script src="/test.js"></script>
        <script>
            var gogogogo, num,bar,btnDownLoad;

            function fnDownLoad(){
                var inbar = document.getElementById("inbar");
                inbar.innerHTML='<div class="progress"><div class="progress-bar bg-danger" style="width:0% id="bar">0%</div></div>';
            }
            
            function fnStart(){
                bar =document.getElementById("bar");
                btnDownLoad = document.getElementById("btnDownLoad");
                num=0;
            
                btnDownLoad.disabled=true;
    
                gogogogo = setInterval(fnGetFile,100);
            }
            function fnGetFile(){
                num++;
                bar.innerHTML=num+"%";
                bar.style="width:"+num+"%";
    
                if(num==100){
                    btnDownLoad.disabled=false;
                    clearInterval(gogogogo);
                }
            }
    
        </script>

    </head>
    

    <body>
        <div class="container p-5">
            <div class="progress">
                <div class="progress-bar" style="width:0%" id="bar">0%</div>
            </div>

            <p>
                
            </p>
            <p>
                <input type="button" value="下載檔案" id="btnDownLoad" class="btn btn-primary" onclick="fnStart();"/>
            </p>
        </div>
    </body>
</html>